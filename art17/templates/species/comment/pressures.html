{% from 'common/comment_bits.html' import error_cls, errors %}

<div class="tab-pane comment" id="comment-pressures">
  <div class="panel panel-default">

    {%- set pressures = form.pressures %}
    <div class="panel-body">
      <div class="form-group">
        <div class="row">
          <div class="col-sm-2">
            <label>Presiune</label>
          </div>
          <div class="col-sm-2">
            <label>Clasificare</label>
          </div>
          <div class="col-sm-2">
            <label>Calificativ de poluare</label>
          </div>
        </div>
      </div>

      <div class="form-group {{- error_cls(pressures.pressures) }}" id="pressures_container">
        {% for p in pressures.pressures.data %}
        <div class="row" data-id="{{ p.id }}">
          <div class="col-sm-2">
            {{ p.pressure }}
          </div>
          <div class="col-sm-2">
            {{ p.ranking }}
          </div>
          <div class="col-sm-2">
           {% for pol in p.pollutions %}
              {{ pol }}
            {% endfor %}
          </div>
          <div class="col-sm-2">
            <button type="button" class="close hidepressure">&times;</button>
          </div>
          {{ pressures.pressures.render_input(p) }}
        </div>
        {% endfor %}

        {{ errors(pressures.pressures) }}

      </div>
      <div class="form-group">
         <div class="row">
          <div class="col-sm-2 {{- error_cls(addform.pressure) }}">
            {{ addform.pressure(class='form-control') }}
          </div>
          <div class="col-sm-2 {{- error_cls(addform.ranking) }}">
            {{ addform.ranking(class='form-control') }}
          </div>
          <div class="col-sm-2 {{- error_cls(addform.pollution) }}">
            {{ addform.pollution(class='form-control') }}
          </div>
          <div class="col-sm-2">
            <button class="btn btn-primary add-pressuresbtn">Adaugă presiune</button>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="pressures.pressures_method">
          Metoda utilizată:
        </label>

        {{ errors(pressures.pressures_method) }}

        <div class="row">
          <div class="col-sm-4 {{- error_cls(pressures.pressures_method) }}">
            {{ pressures.pressures_method(class='form-control') }}
          </div>

          <div class="col-sm-2"></div>
        </div>
      </div>

    </div>

  </div>
</div>
