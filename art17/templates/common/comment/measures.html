{% from 'common/comment_bits.html' import error_cls, errors %}

<div class="tab-pane comment" id="comment-measures">
  <div class="panel panel-default">

    {%- set measures = form.measures %}
    <div class="panel-body">

      <div class="form-group {{- error_cls(measures.measures) }}">

        {{ errors(measures.measures) }}

        <table class="table table-bordered recorddetail-table table-vertical" id="measures_container">
        <thead>
         <tr>
          <th rowspan="2">Mǎsurǎ</th>
          <th colspan="5">Tip</th>
          <th rowspan="2" title="Importanțǎ">Importanțǎ</th>
          <th colspan="3">Locație</th>
          <th colspan="6">Evaluare</th>
          <th rowspan="2">Acțiuni</th>
        </tr>

        <tr class="sub-header">
          <th title="Legal">Leg.</th>
          <th title="Administrativ">Adm.</th>
          <th title="Contractual">Contr.</th>
          <th title="Recurent">Rec.</th>
          <th title="Unic (one-off)">Unic</th>

          <th title="În interiorul sitului">In.</th>
          <th title="În afara sitului">Out.</th>
          <th title="În interiorul și în afara sitului">Ambele</th>

          <th title="Menținere">Men.</th>
          <th title="Îmbunǎtǎțire">Imb.</th>
          <th title="Termen lung">T. lung</th>
          <th title="Fǎrǎ efect">F ef.</th>
          <th title="Necunoscut">Nec.</th>
          <th title="Neevaluat">Neval.</th>
        </tr>
       </thead>

        {% for m in measures.measures.data %}
        <tr data-id="{{ m.id }}">
          <td>{{ MEASURES[m.measurecode] }}</td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.type_legal %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.type_administrative %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.type_contractual %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.type_recurrent %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.type_oneoff %}checked{% endif %} /></td>
          <td>{{ m.rankingcode }}</td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.location_inside %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.location_outside %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.location_both %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.broad_evaluation_maintain %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.broad_evaluation_enhance %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.broad_evaluation_longterm %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.broad_evaluation_noeffect %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.broad_evaluation_unknown %}checked{% endif %} /></td>
          <td><input type="checkbox" value="1" disabled="disabled" {% if m.broad_evaluation_notevaluated %}checked{% endif %} /></td>
          <td>
            <button type="button"
                    class="btn btn-danger btn-sm hidepressure"
                    title="Șterge măsurătoare">șterge</button>
            {{ measures.measures.render_input(m) }}
          </td>
        </tr>
        {% endfor %}

        <tr id="measuresform">
          {% for field in addform_measure %}
          <td>{{ field(class='form-control input-sm') }}</td>
          {% endfor %}
          <td>
            <button class="btn btn-info btn-sm add-measurebtn"
                    title="Adaugă măsurătoare">adaugă</button>
          </td>
        </tr>
      </table>

      </div>
    </div>
  </div>
</div>
